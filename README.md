# SAP-Inventory-sync
Скрипты синхронзации Инвентаризации с внешними БД

Содержит срипты для следующих направлений:
## Внешняя БД -> инвентаризация  
В качестве внешней БД использовались 1С и SAP.  
Либы для SAP постепенно устаревают, т.к. не используются в настоящий момент  

В этом направлении из внешней БД загружаются данные через библиотеки SAP/1C наследуемы от общего COrgStructureStorage  

В инвентаризацию данные пишутся прямо в SQL не используя АПИ

## Инвентаризация -> Bitrix

## Конфигурация
Файл конфигурации:  

Пример описания источника данных под одной организации:  
```
$dataSrc_1c_org1=[  //описываем организацию 1
	'org_id'=>1,      //индекс организации в БД инвентаризации
	'org'=>[          //оргструктура организации
		'src'=>'c1',    //тип - выгрузка из 1C 
		'ftype'=>'csv', //формат - CSV файл
		'path'=>'/tmp/sync_inventory/out_str2.csv',
	],
	'usr'=>[          //список сотрудников организации
		'src'=>'c1',    //тип - выгрузка из 1С
		'ftype'=>'csv', //формат - CSV файл
		'path'=>'/tmp/sync_inventory/out2.csv',
	],
];
```
